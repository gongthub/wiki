# 操作系统-进程状态图
不同操作系统有对应的进程状态图，但是一般可以归为以下几类
- 三态模型
- 五态模型
- 细分五态模型

## 三态模型
三态模型：在多道程序系统中，进程在处理器上交替运行，状态也不断地发送变化。进程一般有3种基本状态：运行、就绪和阻塞。
![进程的三态模型](https://raw.githubusercontent.com/gongthub/wiki/master/docs/Resources/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%B8%89%E6%80%81%E6%A8%A1%E5%9E%8B.png)

1. 就绪：当一个进程获得了除处理机以外的一切所需资源，一旦得到处理机即可运行，则称此进程处于就绪状态。就绪状态可以按多个优先级来划分队列。例如，当一个进程由于时间片用完而进入就绪状态时，排入低优先级队列；当进程由I/O操作完成而进入就绪状态时，排入高优先级队列。
2. 运行：当一个进程在处理机运行时，则称该进程处于运行状态。处于此状态的进程的数目小于等于处理器数目，对于单处理机系统，处于运行状态的进程只有一个。在没有其他进程可以执行时（如所有进程都在阻塞状态），通常会自动执行系统的空闲进程。
3. 阻塞：也称为等待或睡眠状态，一个进程正在等待某一事件发生（例如请求I/O而等待I/O完成等）而暂时停止运行，这时即使把处理机分配给进程也无法运行，故称该进程处于阻塞状态。

## 五态模型
五态模型：对于一个实际的系统，进程的状态及其转换更为复杂。引入新建态和终止态构成了进程的五态模型。
![进程的五态模型](https://raw.githubusercontent.com/gongthub/wiki/master/docs/Resources/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BA%94%E6%80%81%E6%A8%A1%E5%9E%8B.png)

- 新建态：对于进程刚刚被创建时没有被提交的状态，并等待系统完成创建进程的所有必要信息。进程正在创建过程中，还不能运行。操作系统在创建状态要进行工作包括分配和建立进程控制块表项、建立资源表格（如打开文件表）并分配资源、加载程序并建立地址空间表等。创建进程时分为两个阶段，第一个阶段为一个新进程创建必要的管理信息，第二个阶段让该进程进入就绪状态。由于有了新建态，操作系统往往可以根据系统的性能和主存容量的限制推迟新建态进程的提交。

- 终止态：进程已结束运行，回收除进程控制块之外的其他资源，并让其他进程从进程控制块中收集有关信息（如记账和将退出代码传递给父进程）。类似的，进程的终止也可以分为两个阶段，第一阶段等待操作系统进程善后处理，第二阶段释放主存。

## 细分五态模型
细分五态模型：由于进程的不断创建，系统资源特别是主存资源已不能满足所有进程运行的要求。这时，就必须将某些进程挂起，放到磁盘对换区，暂时不能参加调度，以平衡系统负载；进程挂起的原因可能是系统故障，或者是用户调试程序，也可能是需要检查问题。
![进程的细分五态模型](https://raw.githubusercontent.com/gongthub/wiki/master/docs/Resources/%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%BB%86%E5%88%86%E4%BA%94%E6%80%81%E6%A8%A1%E5%9E%8B.png)

- 活跃就绪：是指进程在主存并且可被调度的状态。
- 禁止就绪（挂起就绪）：是指进程被对换到辅存时的就绪状态，是不能被直接调度的状态，只有当主存中没有活跃就绪态进程，或者时挂起就绪进程具有更高的优先级，系统将把挂起就绪态进程调回主存并转换为活跃就绪。
- 活跃阻塞：是指进程已存在主存，一旦等待的事件产生便进入活跃就绪状态。
- 静止阻塞：是指进程对换到辅存时的阻塞状态，一旦等待的事件产生便进入静止就绪状态。